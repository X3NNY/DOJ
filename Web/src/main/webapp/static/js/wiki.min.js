let path="/wiki";function loadWiki(){while($("#Path li:last a").text()!="Wiki"){$("#Path li:last").remove()}$("#greetingDiv").hide();$("#Wiki").show();$.getJSON("/api/wiki",function(a){let p=0;$("#Wiki div").empty();for(let i=0;i<a.length;i++){$("#Wiki div.column:nth-of-type("+(p+1)+")").append(newPanel(a[i]));p=(p+1)%4}})}function newPanel(a){let s="<a href=\"javascript:loadMode('"+a.name+'\')"><div class="panel panel-info" style=\'height: 180px;\' id="'+a.name+"\"><div class='panel-heading'>"+a.title+"</div><div class='panel-body'>"+a.desc+"</div></div></a>";return s}function newModePanel(a){let s="<a href=\"javascript:loadMode2('"+a.name+'\')"><div class="panel panel-info" style=\'height: 180px;\' id="'+a.name+"\"><div class='panel-heading'>"+a.title+"</div><div class='panel-body'>"+a.desc+"</div></div></a>";return s}function loadMode(a){$("#Path li.active").remove();if($("#Path li:last a").text()!=a){$("#Path").append(HTML.liC("active",HTML.a("javascript:loadMode('"+a+"')",a)))}else{$("#Path li:last").addClass("active")}$.getJSON("/api/wiki/"+a,function(b){let p=0;$("#Wiki div").empty();for(let i=0;i<b.length;i++){$("#Wiki div.column:nth-of-type("+(p+1)+")").append(newModePanel(b[i]));p=(p+1)%4}})}function loadMode2(a){$("#Path li.active").removeClass("active");$("#Path").append(HTML.liC("active",HTML.a("javascript:loadMode2('"+a+"')",a)));$.getJSON("/api/wiki/"+a,function(b){let p=0;$("#Wiki div").empty();for(let i=0;i<b.length;i++){$("#Wiki div.column:nth-of-type("+(p+1)+")").append(newLink(b[i]));p=(p+1)%4}})}function newLink(a){let s="<div class=\"panel panel-info\" style='height: 180px;'><div class='panel-heading'>"+HTML.a("blog.jsp?bid="+a.bid,a.title)+"<front style='float: right'>"+getVote(a.bid,a.up_vote,a.down_vote,a.state)+"</front></div><div class='panel-body'>"+a.desc+"</div></div>";return s};