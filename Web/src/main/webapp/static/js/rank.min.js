let rnums;let page=getUrlParam("page");let name="";if(!page||page<=0){page=1}function loadMain(b,a){name=b;if(!a||a<=0){page=1}else{page=a}$.getJSON("/api/rank/set?page="+page+"&name="+name,function(c){rnums=c.pages;let rankPage=$("#rankPage");pageList(rankPage,page,rnums);let rankList=$("#rankList");rankList.empty();for(let i=0;i<c.rankset.length;i++){let tp=c.rankset[i];rankList.append(HTML.tr(HTML.td(50*page+i-49)+HTML.td(getStyleName(tp.username))+HTML.tdC((tp.note==null||tp.note.length===0)?"-":removeHtml(tp.note))+HTML.tdR(tp.ac_cnt)+HTML.tdR(tp.rating===0?"-":tp.rating)+HTML.tdR(tp.num)))}})}function toPage(a){loadMain("",a)}function searchUser(){let _info=$("#searchInfo").val();loadMain(_info,1)}loadMain("",1);