let id=getUrlParam("id");if(id==null){narn("error","未找到Hack信息")}else{loadSubmitInfo()}function loadSubmitInfo(){$.getJSON("/api/hack/info/"+id,function(a){if(a.state!==0){narn("log","您现在不能查看Hack信息")}else{let info=$("div table:first tbody")let r='<span class="label label-default">Waiting</span>';if(a.result===2){r='<span class="label label-success">Success</span>'}else{if(a.result===1){r='<span class="label label-danger">Failed</span>'}}info.append(HTML.tr(HTML.td(HTML.a("/hack.jsp?id="+a.id,a.id))+HTML.td(HTML.a("/code.jsp?sid="+a.sid,a.sid))+HTML.td(HTML.a("/problem.jsp?pid="+a.pid,a.pid+" - "+a.ptitle))+HTML.td(getStyleName(a.hacker))+HTML.td(getStyleName(a.committer))+HTML.td(r)+HTML.td(a.date)));$("pre.hljs code").text(submitInfo(a)+a.code);hljs.initHighlighting();$("code").each(function(){$(this).html("<ol><li>"+$(this).html().replace(/\n/g,"\n</li><li>")+"\n</li></ol>")});$("#answer tbody pre").text(a.answer);let token=$("#token").val();$.getJSON("<%=judgeUrl%>/api/problem/sdata/"+a.pid+"?name="+a.filename+"&token="+token,function(b){$("#input tbody pre").text(b.data)});$.getJSON("<%=judgeUrl%>/api/problem/sdata/"+a.pid+"?name="+a.filename.replace(".in",".out")+"&token="+token,function(b){$("#output tbody pre").text(b.data)})}})}function submitInfo(a){return"/** \n * @Author: "+a.committer.split("|")[1]+"\n * @Date: "+a.sdate+"\n * @PID: "+a.pid+"\n * @Result: Accepted\n * Powered By DOJ\n*/\n"};